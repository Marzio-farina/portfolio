/* ---------- (MOBILE FIRST) ---------- */
.layout {
  max-width: 1400px; /* Aumentato da 1200px */
  margin-inline: auto;
  /* padding: var(--content-top) 0.75rem 1rem; */
  display: grid;
  gap: 1.5rem;
  margin-top: 0.625rem; /* Ridotto da 4rem (64px) a 0.625rem (10px) */
  padding-inline: 0.75rem; /* Ridotto padding per evitare overflow */
  grid-template-columns: 1fr;
  justify-items: center;
  column-gap: 0;
}

.layout__aside-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.layout__aside {
  width: 100%; /* Larghezza completa per schermi piccoli */
}

/* Nascondi aside secondario su schermi piccoli */
.layout__aside-secondary {
  display: none;
}

.dashboard {
  width: min(100%, 1000px); /* Larghezza massima 1000px per section */
}

.layout__aside {
  position: static;
  top: auto;
  margin-top: 0.75rem; /* respiro sopra l'aside */
  border-radius: 1rem;
}

/* superficie "pulita" */
.surface {
  border: 1px solid var(--border-primary);
  border-radius: 20px;
  background: var(--bg-card);
  color: var(--text-primary);
  box-shadow: var(--shadow-1);
  transition: background-color var(--transition-1), 
              color var(--transition-1), 
              border-color var(--transition-1),
              box-shadow var(--transition-1);
}

/* Dashboard container senza bordo per evitare doppio contorno */
.dashboard {
  background: transparent;
  border: none;
  box-shadow: none;
}

/* Card unica che contiene nav + contenuto */
.dashboard__card {
  position: relative;
  background: var(--bg-card);
  color: var(--text-primary);
  border: 1px solid var(--border-primary);
  border-radius: 20px;
  overflow: clip;                /* mantiene gli angoli anche sulla nav */
  min-width: 0;
  transition: background-color var(--transition-1), 
              color var(--transition-1), 
              border-color var(--transition-1);
}

/* Bottone login in alto a destra, coerente con stile toggle aside */
.dashboard__login {
  position: absolute;
  top: 0;
  right: 0;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border: 1px solid var(--border-primary);
  background: var(--bg-card);
  color: var(--accent-primary);
  /* Solo angolo alto-destro smussato (come la card, 20px); gli altri vivi */
  border-radius: 0 20px 0 20px;
  box-shadow: var(--shadow-1);
  transition: all var(--transition-1);
  width: 110px;
  height: 40px;
  z-index: 2; /* come profile__edit per rendere visibile l'overlay ::before */
}

.dashboard__login:hover {
  background: linear-gradient(
    to bottom right,
    hsl(45, 100%, 71%) 0%,
    hsla(36, 100%, 69%, 1) 50%
  );
  color: var(--accent-primary);
  cursor: pointer;
}

/* Overlay come per i toggle/modifica dell'aside */
.dashboard__login::before {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  transition: 0.25s ease;
  z-index: -1;
}

.dashboard__login:hover::before,
.dashboard__login:focus::before {
  background: linear-gradient(
      135deg,
      hsla(45, 100%, 71%, 0.251) 0%,
      hsla(35, 100%, 68%, 0) 59.86%
    ),
    var(--eerie-black-2);
}

.dashboard__login .caret {
  transform-box: fill-box;
  transform-origin: 50% 50%;
  rotate: 0turn;
  transition: rotate .25s cubic-bezier(.2,.8,.2,1);
}

.dashboard__login-label {
  font-weight: 700;
  letter-spacing: .2px;
}

/* Mantieni i bordi arrotondati della section anche sotto 480px */
@media (max-width: 479px) {
  .dashboard__card {
    border-radius: 20px !important;
    overflow: clip; /* mantiene il clipping degli angoli */
  }
}

/* Barra nav flottante in basso al centro */
.dashboard__nav {
  position: fixed;
  bottom: 20px; /* Spazio dal bordo */
  left: 50%;
  transform: translateX(-50%); /* Centra orizzontalmente */
  width: auto;
  min-width: 270px; /* Ridotto del 10% (300px -> 270px) */
  max-width: 81vw; /* Ridotto del 10% (90vw -> 81vw) */
  background: rgba(255, 255, 255, 0.02); /* Background ultra-trasparente */
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 25px; /* Bordi smussati su tutti i lati */
  overflow: hidden; /* Forza il clipping dei bordi */
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  color: var(--text-primary);
  z-index: 1000;
  padding: 10px 18px; /* Ridotto del 10% */
  display: flex;
  justify-content: space-around;
  align-items: center;
  gap: 7px; /* Ridotto del 10% */
  transition: all var(--transition-1);
}

/* Contenuto della dashboard */
.dashboard__content {
  padding: 1rem;
  padding-bottom: 100px; /* Spazio per la navbar flottante */
}

/* La nav non è più una capsula sopra: aspetto “piatto” coerente con la card */
.floating-nav {
  display: inline-flex;
  align-items: center;
  gap: 1.25rem;
}

/* Variante inline: nessun bordo/ombra propria, eredita tutto dalla card */
.floating-nav--inline {
  background: transparent;
  color: inherit;
  border: 0;
  box-shadow: none;
  padding: 0;
  pointer-events: auto;
}

/* Link della nav (stile tab) */
/* .floating-nav a {
  text-decoration: none;
  color: inherit;
  opacity: .9;
  padding: .5rem .75rem;
  border-radius: .75rem;
}
*/

/* ===== Modal login (namespaced per evitare clash con DaisyUI) ===== */
.mf-modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.1);
  backdrop-filter: blur(2px);
  z-index: 1200;
}

.mf-modal {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;   /* centra orizzontalmente */
  align-items: flex-start;    /* allinea in alto */
  padding-top: 10vh;           /* distanza dal bordo superiore: 10vh */
  z-index: 1201;
  overflow: hidden; /* Previene lo scroll del container del modale */
}

/* Per dispositivi piccoli, il modal degli attestati ha solo 10% di margin dal bordo superiore */
@media (max-width: 768px) {
  .mf-modal:has(.attestato-detail-modal) {
    padding-top: 5vh; /* 10% dell'altezza del viewport */
  }
}

.mf-modal__content {
  position: relative;
  width: 335px;            /* larghezza fissa richiesta */
  max-width: 92vw;         /* prevenzione overflow su viewport stretti */
  max-height: 88vh;
  overflow: visible; /* Il contenuto interno gestisce lo scroll */
  border: 1px solid var(--border-primary);
  border-radius: 16px;
  background: var(--bg-card);
  box-shadow: var(--shadow-1);
}

/* Per il modale degli attestati, il contenuto interno gestisce lo scroll */
.mf-modal--attestato .mf-modal__content {
  overflow: visible;
  max-height: none; /* Rimuove il limite di altezza, è gestito dal modale stesso */
  width: auto; /* Permette al modale di gestire la sua larghezza */
}

/* Per il modale dei progetti: larghezza responsive */
.mf-modal--project .mf-modal__content {
  overflow: visible;
  max-height: none;
  width: 100%; /* Dispositivi < 500px: larghezza completa */
}

@media (min-width: 500.02px) {
  .mf-modal--project .mf-modal__content {
    width: 85%; /* Dispositivi >= 500px: larghezza 85% */
  }
}

.mf-modal__close {
  position: absolute;
  top: 0;
  right: 5px;
  background: transparent;
  color: var(--text-secondary);
  border: none;
  font-size: 2.5rem; /* 4x più grande rispetto a 1.25rem */
  line-height: 1;
  cursor: pointer;
  z-index: 2;
}
/* .floating-nav a:hover { opacity: 1; } */
/* .floating-nav .is-active {
  background: color-mix(in oklab, var(--eerie-black-2) 6%, transparent);
  box-shadow: inset 0 -2px 0 oklch(80% 0.1 85 / 1);
  font-weight: 600;
}  */

/* ========== iPhone SE e dispositivi piccoli (375px-479px) ========== */
@media (max-width: 479px) {
  .layout {
    margin-top: 0.625rem; /* 10px */
    padding-inline: 0.125rem; /* Ridotto al minimo per evitare overflow */
    gap: 0.5rem; /* Ridotto gap per più spazio */
    max-width: 100vw; /* Non supera mai la larghezza del viewport */
  }
  
  .layout__aside-wrapper {
    width: 100% !important; /* Forza larghezza completa */
    max-width: 100% !important; /* Non supera mai il contenitore */
    margin: 0 !important; /* Rimuove margini */
  }
  
  .layout__aside {
    width: 100% !important; /* Forza larghezza completa */
    max-width: 100% !important; /* Non supera mai il contenitore */
    margin: 0 !important; /* Rimuove margini */
    padding: 0 !important; /* Nessun padding per i toggle sui bordi */
  }
  
  .dashboard {
    width: 100%; /* Larghezza completa per evitare overflow */
    max-width: 100%; /* Non supera mai il contenitore */
    margin: 0; /* Rimuove margini */
  }
  
  .dashboard__card {
    margin: 0; /* Rimuove margini che potrebbero causare overflow */
    border-radius: 15px; /* Ridotto per dispositivi piccoli */
    width: 100%; /* Larghezza completa */
    max-width: 100%; /* Non supera mai il contenitore */
    padding: 0; /* Rimuove padding che potrebbe causare overflow */
  }
  
  .dashboard__content {
    padding: 0.25rem; /* Ridotto al minimo */
    width: 100%; /* Larghezza completa */
    max-width: 100%; /* Non supera mai il contenitore */
    margin: 0; /* Rimuove margini */
  }
  
  .dashboard__nav {
    padding: 8px 12px; /* Ridotto ulteriormente */
    margin: 0; /* Rimuove margini */
  }
}

/* ========== (>=580px) ========== */
@media (min-width: 580px) {
  .dashboard__nav {
    border-radius: 25px; /* Mantiene bordi smussati su tutti i lati */
    padding: 10px 20px; /* Ridotto anche su tablet */
    min-height: 50px; /* Ridotto anche su tablet */
  }
  
  .dashboard__content {
    padding-top: 3rem; /* Ridotto proporzionalmente */
  }
  
  /* Aside senza limiti di larghezza per schermi medi */
  .layout__aside-wrapper {
    width: 100%; /* Larghezza completa */
  }
  
  .layout__aside {
    width: 100%; /* Larghezza completa */
  }
}

/* ========== (>=1024px) ========== */
@media (min-width: 1024px) {
  /* La navbar rimane sempre in basso al centro */
  .dashboard__content {
    padding-bottom: 100px; /* Spazio per la navbar flottante */
  }
  
  /* Aside senza limiti di larghezza fino a 1049px */
  .layout__aside-wrapper {
    width: 100%; /* Larghezza completa */
  }
  
  .layout__aside {
    width: 100%; /* Larghezza completa */
  }
}

/* ========== (>=1050px) ========== */
@media (min-width: 1050px) {
  /* Aside con stessa larghezza della section (1000px) */
  .layout__aside-wrapper {
    width: min(100%, 1000px); /* Stessa larghezza della section */
  }
  
  .layout__aside {
    width: min(100%, 1000px); /* Stessa larghezza della section */
  }
}

/* ========== DESKTOP (>=1250px) ========== */
@media (min-width: 1250px) {
  .layout {
    max-width: 1400px; /* Larghezza massima per centrare il contenuto */
    grid-template-columns: 320px 1fr; /* Larghezza fissa per wrapper aside */
    column-gap: 1rem; /* Gap tra le colonne */
    justify-items: stretch;
    overflow: visible;
    padding: 2rem 1.5rem 3rem; /* Più spazio in alto, padding laterale ridotto */
    margin-inline: auto; /* Centra il layout */
  }

  /* Wrapper per aside principale e secondario */
  .layout__aside-wrapper {
    width: 320px; /* Larghezza fissa */
    display: flex;
    flex-direction: column;
    gap: 1.5rem; /* Spaziatura tra aside principale e secondario */
  }

  /* Larghezza fissa per aside */
  .layout__aside {
    width: 320px; /* Larghezza fissa */
  }
  
  /* Mostra aside secondario solo >= 1250px */
  .layout__aside-secondary {
    display: block;
    width: 320px; /* Stessa larghezza dell'aside principale */
  }

  /* Dashboard limitata a 1000px e centrata */
  .dashboard {
    width: min(100%, 1000px); /* Larghezza massima 1000px */
    margin: 0 auto; /* Centra la section */
  }

  /* riattiva sticky su aside */
  .layout__aside {
    position: sticky;
    top: var(--content-top, 24px);
    align-self: start;
    margin-top: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* ========== EXTRA LARGE (>=1600px) ========== */
@media (min-width: 1600px) {
  .layout {
    max-width: 1400px; /* Mantiene la larghezza per centrare il contenuto */
    padding: 2rem 2rem 0; /* Padding laterale ridotto per evitare overflow */
    margin-inline: auto; /* Centra il layout */
  }
  
  /* Dashboard sempre centrata e limitata a 1000px */
  .dashboard {
    width: min(100%, 1000px);
    margin: 0 auto;
  }
}