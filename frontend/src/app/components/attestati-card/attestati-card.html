<article class="attestato-card" (click)="onCardClick()">
  @if (isAuthenticated() && isEditing()) {
    <button class="admin-x-btn" type="button" aria-label="Azione amministratore" (click)="onAdminButtonClick($event)">
      <span aria-hidden="true">Ã—</span>
    </button>
  }
  @if (attestato().img; as img) {
    <div class="cover" [style.aspect-ratio]="aspectRatio() || defaultAR">
      <img
        [ngSrc]="img.src"
        fill
        [alt]="img.alt || attestato().title"
        [sizes]="'100vw'"
        [priority]="priority()"
        [attr.loading]="priority() ? null : 'lazy'"
        decoding="async"
        (load)="onImgLoad($event)"
        (error)="onImgError($event)"
      />
    </div>
  }

  <header class="meta">
    <h3 class="title">{{ attestato().title }}</h3>
    @if (attestato().issuer) { <div class="ente">{{ attestato().issuer }}</div> }
    @if (attestato().date)   { <div class="data">{{ attestato().date }}</div> }
  </header>
</article>
