<div class="category-field">
  <span class="category-field__label">Categoria:</span>
  @if (isEditMode()) {
    <select 
      id="project-category"
      name="category"
      [value]="selectedCategoryId()"
      (change)="onCategoryChange($event)"
      (mousedown)="$event.stopPropagation()"
      class="category-field__select">
      <option value="">Seleziona categoria</option>
      @for (cat of categories(); track cat.id) {
        <option [value]="cat.id">{{ cat.title }}</option>
      }
    </select>
  } @else {
    @if (currentCategory()) {
      <span class="category-field__value">{{ currentCategory() }}</span>
    }
  }
</div>

