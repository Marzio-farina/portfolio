<section class="job-offer-add">
  <!-- Header con back button e titolo -->
  <div class="header">
    <button class="back-btn" type="button" (click)="onCancel()" aria-label="Torna indietro">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
    </button>
    <h2 class="title">Aggiungi Nuova Candidatura</h2>
  </div>

  <!-- Cards container -->
  <div class="cards-container">
    <!-- Card Scraper -->
    <div class="choice-card scraper-card">
      <h3 class="card-title">Cerca Offerte Online</h3>
      <p class="card-description">Vedi le offerte di lavoro sui principali portali di lavoro</p>
      
      <!-- Adzuna Box -->
      <div class="scraper-box adzuna-box" (click)="searchJobs()">
        <div class="scraper-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
        </div>
        <div class="scraper-content">
          <h4 class="scraper-title">Vedi le offerte</h4>
          <p class="scraper-text">Indeed, LinkedIn, Monster e altri</p>
        </div>
        <div class="scraper-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </div>
      </div>
    </div>

    <!-- Card Manuale -->
    <div class="choice-card manual-card">
      <div class="card-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
          <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
        </svg>
      </div>
      <h3 class="card-title">Inserimento Manuale</h3>
      <p class="card-description">Compila manualmente il form con i dettagli della candidatura</p>
      
      <!-- Form interno alla card -->
      <div class="manual-form">
        <form>
          <!-- Grid a 2 colonne (1 colonna su mobile) -->
          <div class="form-grid">
            <!-- Colonna 1 -->
            <div class="form-group">
              <label class="form-label">Azienda *</label>
              <input 
                type="text" 
                class="input input-bordered w-full" 
                placeholder="Nome azienda"
                [ngModel]="companyName()"
                (ngModelChange)="companyName.set($event)"
                name="companyName">
            </div>

            <div class="form-group">
              <label class="form-label">Azienda Recruitatrice</label>
              <input 
                type="text" 
                class="input input-bordered w-full" 
                placeholder="Nome azienda recruitatrice (opzionale)"
                [ngModel]="recruiterCompany()"
                (ngModelChange)="recruiterCompany.set($event)"
                name="recruiterCompany">
            </div>

            <div class="form-group">
              <label class="form-label">Posizione *</label>
              <input 
                type="text" 
                class="input input-bordered w-full" 
                placeholder="Titolo posizione"
                [ngModel]="position()"
                (ngModelChange)="position.set($event)"
                name="position">
            </div>

            <div class="form-group">
              <label class="form-label">Modalità di Lavoro</label>
              <select 
                class="select select-bordered w-full"
                [ngModel]="workMode()"
                (ngModelChange)="workMode.set($event)"
                name="workMode">
                <option value="">Seleziona...</option>
                <option value="Remote">Remoto</option>
                <option value="Hybrid">Ibrido</option>
                <option value="On-site">In Presenza</option>
                <option value="Full-time">Full Time</option>
                <option value="Part-time">Part Time</option>
                <option value="Contract">Contratto</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Località</label>
              <input 
                type="text" 
                class="input input-bordered w-full" 
                placeholder="Città, Provincia"
                [ngModel]="location()"
                (ngModelChange)="location.set($event)"
                name="location">
            </div>

            <div class="form-group">
              <label class="form-label">Fascia Salariale</label>
              <input 
                type="text" 
                class="input input-bordered w-full" 
                placeholder="Es: 30.000€ - 40.000€"
                [ngModel]="salaryRange()"
                (ngModelChange)="salaryRange.set($event)"
                name="salaryRange">
            </div>

            <!-- Colonna 2 -->
            <div class="form-group">
              <label class="form-label">Data Annuncio</label>
              <input 
                type="date" 
                class="input input-bordered w-full"
                [ngModel]="announcementDate()"
                (ngModelChange)="announcementDate.set($event)"
                name="announcementDate">
            </div>

            <div class="form-group">
              <label class="form-label">Data Candidatura</label>
              <input 
                type="date" 
                class="input input-bordered w-full"
                [ngModel]="applicationDate()"
                (ngModelChange)="applicationDate.set($event)"
                name="applicationDate">
            </div>

            <div class="form-group">
              <label class="form-label">Sito Web</label>
              <input 
                type="url" 
                class="input input-bordered w-full" 
                placeholder="https://..."
                [ngModel]="website()"
                (ngModelChange)="website.set($event)"
                name="website">
            </div>

            <div class="form-group">
              <label class="form-label">Stato</label>
              <select 
                class="select select-bordered w-full"
                [ngModel]="status()"
                (ngModelChange)="status.set($event)"
                name="status">
                <option value="pending">In Attesa</option>
                <option value="interview">Colloquio</option>
                <option value="accepted">Accettata</option>
                <option value="rejected">Rifiutata</option>
                <option value="archived">Archiviata</option>
              </select>
            </div>

            <div class="form-group form-group--checkbox">
              <label class="checkbox-label">
                <input 
                  type="checkbox" 
                  class="checkbox"
                  [ngModel]="isRegistered()"
                  (ngModelChange)="isRegistered.set($event)"
                  name="isRegistered">
                <span>Registrato sul sito</span>
              </label>
            </div>
          </div>

          <!-- Note a tutta larghezza -->
          <div class="form-group form-group--full">
            <label class="form-label">Note</label>
            <textarea 
              class="textarea textarea-bordered w-full" 
              rows="4"
              placeholder="Aggiungi eventuali note o informazioni aggiuntive..."
              [ngModel]="notes()"
              (ngModelChange)="notes.set($event)"
              name="notes"></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-outline" (click)="onCancel()">
              Annulla
            </button>
            <button type="button" class="btn btn-primary" (click)="onSave()">
              Salva Candidatura
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

