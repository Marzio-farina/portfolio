<h2 class="article-title">{{ title() }}</h2>
<app-filter 
    [categories]="categories()"
    [selected]="selectedCategory()"
    (select)="onSelectCategory($event)"
/>

@if (loading()) {
    <div class="projects">
        @for (i of [0,1,2,3,4,5]; track i) {
            <div class="card skeleton-card">
                <div class="media">
                    <div class="skeleton" style="width:100%; height:100%;"></div>
                </div>
                <div class="meta" style="gap:8px;">
                    <div class="skeleton h-4 w-1/2"></div>
                    <div class="skeleton h-4 w-full"></div>
                    <div class="skeleton h-4 w-3/4"></div>
                </div>
            </div>
        }
    </div>
}

@if (!loading() && errorMsg()) {
    <div class="state error">
        {{ errorMsg() }}
    </div>
}

<div class="projects">
    @if (!loading() && !errorMsg()) {
        @for (p of filtered(); track p.id) {
            <app-progetti-card [progetto]="p" />
        }
    }    
</div>